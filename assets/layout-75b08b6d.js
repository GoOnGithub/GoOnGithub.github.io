import{p as N,N as B,x as C,a4 as ne,R as V,y as ae,ag as q,K as se,Q as W,n as c,U as w,v as X,J as ue,P as Y,q as L,Y as le,O as ie,ay as re,az as ce}from"./index-855c621d.js";const ye=N({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function me(u){const a=B("useRender");a.render=u}function ve(u){const a=C(),l=C();if(ne){const s=new ResizeObserver(e=>{u==null||u(e,s),e.length&&(l.value=e[0].contentRect)});V(()=>{s.disconnect()}),ae(a,(e,i)=>{i&&(s.unobserve(q(i)),l.value=void 0),e&&s.observe(q(e))},{flush:"post"})}return{resizeRef:a,contentRect:se(l)}}const E=Symbol.for("vuetify:layout"),_=Symbol.for("vuetify:layout-item"),D=1e3,ge=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),he=N({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ie(u){const a=W(E);if(!a)throw new Error("[Vuetify] Could not find injected layout");const l=u.id??`layout-item-${ie()}`,s=B("useLayoutItem");Y(_,{id:l});const e=X(!1);re(()=>e.value=!0),ce(()=>e.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:d}=a.register(s,{...u,active:c(()=>e.value?!1:u.active.value),id:l});return V(()=>a.unregister(l)),{layoutItemStyles:i,layoutRect:a.layoutRect,layoutItemScrimStyles:d}}const de=(u,a,l,s)=>{let e={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...e}}];for(const d of u){const y=a.get(d),g=l.get(d),$=s.get(d);if(!y||!g||!$)continue;const h={...e,[y.value]:parseInt(e[y.value],10)+($.value?parseInt(g.value,10):0)};i.push({id:d,layer:h}),e=h}return i};function be(u){const a=W(E,null),l=c(()=>a?a.rootZIndex.value-100:D),s=C([]),e=w(new Map),i=w(new Map),d=w(new Map),y=w(new Map),g=w(new Map),{resizeRef:$,contentRect:h}=ve(),F=c(()=>{const o=new Map,v=u.overlaps??[];for(const t of v.filter(r=>r.includes(":"))){const[r,n]=t.split(":");if(!s.value.includes(r)||!s.value.includes(n))continue;const p=e.get(r),m=e.get(n),R=i.get(r),S=i.get(n);!p||!m||!R||!S||(o.set(n,{position:p.value,amount:parseInt(R.value,10)}),o.set(r,{position:m.value,amount:-parseInt(S.value,10)}))}return o}),I=c(()=>{const o=[...new Set([...d.values()].map(t=>t.value))].sort((t,r)=>t-r),v=[];for(const t of o){const r=s.value.filter(n=>{var p;return((p=d.get(n))==null?void 0:p.value)===t});v.push(...r)}return de(v,e,i,y)}),H=c(()=>!Array.from(g.values()).some(o=>o.value)),b=c(()=>I.value[I.value.length-1].layer),J=c(()=>({"--v-layout-left":L(b.value.left),"--v-layout-right":L(b.value.right),"--v-layout-top":L(b.value.top),"--v-layout-bottom":L(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=c(()=>I.value.slice(1).map((o,v)=>{let{id:t}=o;const{layer:r}=I.value[v],n=i.get(t),p=e.get(t);return{id:t,...r,size:Number(n.value),position:p.value}})),K=o=>x.value.find(v=>v.id===o),O=B("createLayout"),T=X(!1);ue(()=>{T.value=!0}),Y(E,{register:(o,v)=>{let{id:t,order:r,position:n,layoutSize:p,elementSize:m,active:R,disableTransitions:S,absolute:k}=v;d.set(t,r),e.set(t,n),i.set(t,p),y.set(t,R),S&&g.set(t,S);const U=le(_,O==null?void 0:O.vnode).indexOf(o);U>-1?s.value.splice(U,0,t):s.value.push(t);const j=c(()=>x.value.findIndex(z=>z.id===t)),A=c(()=>l.value+I.value.length*2-j.value*2),ee=c(()=>{const z=n.value==="left"||n.value==="right",M=n.value==="right",oe=n.value==="bottom",Z={[n.value]:0,zIndex:A.value,transform:`translate${z?"X":"Y"}(${(R.value?0:-110)*(M||oe?-1:1)}%)`,position:k.value||l.value!==D?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!T.value)return Z;const f=x.value[j.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const P=F.value.get(t);return P&&(f[P.position]+=P.amount),{...Z,height:z?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:M?void 0:`${f.left}px`,right:M?`${f.right}px`:void 0,top:n.value!=="bottom"?`${f.top}px`:void 0,bottom:n.value!=="top"?`${f.bottom}px`:void 0,width:z?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),te=c(()=>({zIndex:A.value-1}));return{layoutItemStyles:ee,layoutItemScrimStyles:te,zIndex:A}},unregister:o=>{d.delete(o),e.delete(o),i.delete(o),y.delete(o),g.delete(o),s.value=s.value.filter(v=>v!==o)},mainRect:b,mainStyles:J,getLayoutItem:K,items:x,layoutRect:h,rootZIndex:l});const Q=c(()=>["v-layout",{"v-layout--full-height":u.fullHeight}]),G=c(()=>({zIndex:l.value,position:a?"relative":void 0,overflow:a?"hidden":void 0}));return{layoutClasses:Q,layoutStyles:G,getLayoutItem:K,items:x,layoutRect:h,layoutRef:$}}export{ge as a,ve as b,be as c,he as d,Ie as e,ye as m,me as u};
